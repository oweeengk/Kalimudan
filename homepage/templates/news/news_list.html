{% extends 'base.html' %} {% load static %} {% load custom_tags %}
<!---->
{% block title %}
<title>News - Kalimudan Sa Ranao Foundation Inc.</title>
{% endblock %} {% block content %}
<div class="container" style="margin-top: 50px">
  <div class="row justify-content-center">
    <br /><br /><br />

    <h3 class="text-center fw-bold">N E W S</h3>
    <br /><br /><br />

    <div class="row">
      {% for news in news_list %}
      <div class="col-md-4 mb-4">
        <div class="card bg-dark text-white custom-card">
          {% if news.image and news.image.url %}
          <img
            class="news-img flex-shrink-0"
            src="{{ news.image.url }}"
            alt="News image"
          />
          {% endif %}
          <div
            class="card-img-overlay d-flex flex-column justify-content-between"
          >
            <div>
              <h5 class="news-title">{{ news.title }}</h5>
              <p>{{ news.date }}</p>
              <p class="news-text">{{ news.content }}</p>
            </div>
            <div>
              <a
                href="{% url 'homepage:news_detail' category=news.category slug=news.slug %}"
                class="btn btn-outline-light"
                >Read more...</a
              >
              <a
                href="{% url 'homepage:news_list' category=news.category %}"
                style="text-decoration: none"
              >
                <span style="color: lightgreen">{{ news.category }}</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      {% if forloop.counter|divisibleby:3 and not forloop.last %}
    </div>
    <div class="row">{% endif %} {% endfor %}</div>
  </div>

  <div class="col-11 mt-4 mb-4">
    <hr class="content-divider" />
  </div>
  <div
    class="list-group-item list-group-item-action d-flex justify-content-end"
  >
    <a href="{% url 'homepage:news_create' %}" class="btn btn-danger">
      Create new
    </a>
    &nbsp;&nbsp;&nbsp;
    <!--test test test test test test test-->
    {% if request.resolver_match.kwargs.category %}
    <a href="{% url 'homepage:news_list' %}" class="btn btn-success">
      See all news
    </a>
    {% endif %}
  </div>
</div>
{% endblock %}
